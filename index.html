<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Admin TÃ­ch Äiá»ƒm - Ã”ng KÃ²i</title>
  <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" defer></script>
<link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
</head>
<body>
  <div id="loginScreen" class="login-box">
    <h2>ğŸ”’ ÄÄƒng nháº­p quáº£n lÃ½</h2>
    <input type="password" id="password" placeholder="Nháº­p máº­t kháº©u quáº£n lÃ½" />
    <button onclick="checkPassword()">ÄÄƒng nháº­p</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <div id="mainScreen" style="display:none;">
    <h1>ğŸ‘¨â€ğŸ³ Quáº£n lÃ½ tÃ­ch Ä‘iá»ƒm - BÃ¡nh MÃ¬ Ã”ng KÃ²i</h1>

    <div class="filter-box">
      <input type="text" id="searchPhone" placeholder="ğŸ” TÃ¬m theo sá»‘ Ä‘iá»‡n thoáº¡i" />
      <input type="date" id="startDate" />
      <input type="date" id="endDate" />
      <button onclick="applyFilter()">Lá»c</button>
      <button onclick="resetFilter()">Hiá»‡n táº¥t cáº£</button>
    </div>

    <h2>ğŸ“‹ Danh sÃ¡ch tÃ­ch Ä‘iá»ƒm</h2>
    <table id="dataTable">
      <thead>
        <tr>
          <th>Sá»‘ Ä‘iá»‡n thoáº¡i</th>
          <th>Thá»i gian</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <h2>ğŸ† Báº£ng xáº¿p háº¡ng khÃ¡ch hÃ ng</h2>
    <table id="rankingTable">
      <thead>
        <tr>
          <th>Háº¡ng</th>
          <th>Sá»‘ Ä‘iá»‡n thoáº¡i</th>
          <th>LÆ°á»£t tÃ­ch Ä‘iá»ƒm</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <button onclick="exportToExcel()">ğŸ“¥ Xuáº¥t Excel</button>

    <h2>ğŸ“² Táº¡o mÃ£ QR cho khÃ¡ch</h2>
    <button onclick="taoMaQR()">Táº¡o mÃ£ QR má»›i</button>

    <!-- âœ… ÄÃ£ thay pháº§n hiá»ƒn thá»‹ link QR -->
    <div style="text-align: center; margin-top: 10px;">
      <p><strong>MÃ£ QR:</strong> <span id="maQRcode">Äang táº¡o...</span></p>
      <button onclick="copyLinkQR()" style="padding: 6px 12px; border-radius: 6px; background-color: orange; color: white; border: none;">
        ğŸ“‹ Sao chÃ©p link QR
      </button>
    </div>

    <canvas id="qrCanvas"></canvas>
  </div>

  <script src="script.js"></script>
<!-- âœ… Gáº¯n phÃ¢n trang báº£ng xáº¿p háº¡ng -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const rankingTable = document.querySelector("#rankingTable");
      if (rankingTable) {
        new simpleDatatables.DataTable(rankingTable, {
          perPage: 10,
          perPageSelect: false,
          searchable: false,
          paging: true,
          labels: {
            placeholder: "TÃ¬m kiáº¿m...",
            perPage: "{select} dÃ²ng/trang",
            noRows: "KhÃ´ng cÃ³ dá»¯ liá»‡u",
            info: "Trang {page} / {pages}"
          }
        });
      }
    });
  </script>
</body>
</html>
